<meta charset="utf-8">
<head>
<script src="jquery.js"></script>
<div id="DIRT"></div>
<script>
$(document).ready(function(){
  $(".b-dirt").click(function(){
  this.toggle()
});
});
var storage = window.localStorage;
if (!storage.getItem("dirt")) storage.setItem("dirt",0);
dirt = parseInt(storage.getItem("dirt"));
document.getElementById("DIRT").innerHTML = "You have "+dirt+" dirt";
showStorage();
</script>
</head>
<script>
function update() {
document.getElementById("DIRT").innerHTML = "You have "+dirt+" dirt";
}
function minedirt() {
dirt = dirt + 1
update()
storage.setItem("dirt",dirt)
check()
}
</script>
<body>
<input type="button" class="b-dirt" value="Mine some dirt" onclick="minedirt()" />
</body>
<script>
  function check() {
    var button = jQuery(".b-dirt");
    if (dirt < 100) {
        button.removeAttr("disabled");
    }
    else {
        // set the disabled attribute
        button.attr("disabled", "true");
    };
}
</script>
